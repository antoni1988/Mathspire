<%
const pageTitle = "Mixed Practice";
const topicName = "Quadratic Equations";
const topicId = 3;

const exercises = [
                  {
                    exercise_number: 1,
                    type: 'multiple_choice',
                    question: 'What is the factored form of x² - 4x + 4?',
                    options: [
                      '(x-2)(x-2)',
                      '(x+2)(x+2)',
                      '(x-2)(x+2)',
                      '(x-4)(x+1)'
                    ],
                    answer: 0,
                    completed_at: null
                  },
                  {
                    exercise_number: 2,
                    type: 'true_false',
                    statements: [
                      {
                        text: 'The expression x² + 6x + 9 can be factored as (x+3)(x+3)',
                        answer: true
                      },
                      {
                        text: 'The expression x² - 9 can be factored as (x+3)(x-3)',
                        answer: true
                      }
                    ],
                    completed_at: null
                  },
                  {
                    exercise_number: 3,
                    type: 'open_question',
                    question: 'Factor the expression: x² - 2x - 8',
                    inputLabel: 'Enter your answer in the form (x±a)(x±b):',
                    placeholder: 'e.g. (x+2)(x-4)',
                    answer: '(x+2)(x-4)',
                    showAnswerButton: true,
                    completed_at: null
                  }
                ];

if (typeof dbExercises !== 'undefined') {
  exercises.forEach(ex => {
    const dbExercise = dbExercises.find(e => e.exercise_number === ex.exercise_number);
    if (dbExercise) {
      ex.id = dbExercise.id;
      ex.completed_at = dbExercise.completed_at;
    }
  });
}
%>
<%- include('../../components/exercise_page', { 
  pageTitle,
  topicName,
  topicId,
  exercises,
  currentPage,
  totalPages
}) %>