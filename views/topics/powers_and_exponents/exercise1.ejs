<%
const pageTitle = "Basic Practice";
const topicName = "Powers and Exponents";
const topicId = 2;
const exercises = [
  {
    exercise_number: 1,
    type: 'multiple_choice',
    question: 'What is 2³?',
    options: ['4', '6', '8', '16'],
    answer: 2,
    completed_at: null,
    steps: [
      "Write out 2³ as repeated multiplication",
      "2³ = 2 × 2 × 2",
      "First multiply 2 × 2 = 4",
      "Then multiply 4 × 2 = 8"
    ]
  },
  {
    exercise_number: 2,
    type: 'true_false',
    statements: [
      {
        text: '2⁴ = 16',
        answer: true
      },
      {
        text: '3² = 6',
        answer: false
      }
    ],
    completed_at: null,
    steps: [
      "For 2⁴: Multiply 2 × 2 × 2 × 2 = 16",
      "For 3²: Multiply 3 × 3 = 9, not 6"
    ]
  },
  {
    exercise_number: 3,
    type: 'open_question',
    question: 'Simplify: 2³ × 2²',
    inputLabel: 'Enter your answer as a single power of 2:',
    placeholder: 'e.g. 2⁵',
    answer: '2⁵',
    showAnswerButton: true,
    completed_at: null,
    steps: [
      "Write out each power as repeated multiplication",
      "2³ = 2 × 2 × 2",
      "2² = 2 × 2",
      "Combine: 2³ × 2² = (2 × 2 × 2) × (2 × 2)",
      "Count total number of 2's: 5",
      "Therefore, 2³ × 2² = 2⁵"
    ]
  }
];

if (typeof dbExercises !== 'undefined') {
  exercises.forEach(ex => {
    const dbExercise = dbExercises.find(e => e.exercise_number === ex.exercise_number);
    if (dbExercise) {
      ex.id = dbExercise.id;
      ex.completed_at = dbExercise.completed_at;
    }
  });
}
%>

<%- include('../../components/exercise_page', { 
  pageTitle,
  topicName,
  topicId,
  exercises,
  currentPage,
  totalPages
}) %>