<%
const pageTitle = "Word Problems";
const topicName = "Powers and Exponents";
const topicId = 2;
const exercises = [
  {
    exercise_number: 1,
    type: 'multiple_choice',
    question: 'A bacteria population doubles every hour. If you start with 100 bacteria, how many will there be after 3 hours?',
    options: ['300', '600', '800', '800'],
    answer: 3,
    completed_at: null,
    steps: [
      "After 1 hour: 100 × 2¹ = 200 bacteria",
      "After 2 hours: 100 × 2² = 400 bacteria",
      "After 3 hours: 100 × 2³ = 800 bacteria"
    ]
  },
  {
    exercise_number: 2,
    type: 'open_question',
    question: 'A cube has a volume of 64 cubic units. What is the length of each edge?',
    inputLabel: 'Enter your answer:',
    placeholder: 'e.g. 4',
    answer: '4',
    showAnswerButton: true,
    completed_at: null,
    steps: [
      "Volume of a cube is edge length cubed",
      "If V = x³ and V = 64, then x³ = 64",
      "Therefore x = ∛64 = 4"
    ]
  },
  {
    exercise_number: 3,
    type: 'true_false',
    statements: [
      {
        text: 'If you triple a number 2 times, you multiply it by 9',
        answer: true
      },
      {
        text: 'If you double a number 3 times, you multiply it by 6',
        answer: false
      }
    ],
    completed_at: null,
    steps: [
      "Tripling twice: 3² = 9, so tripling twice multiplies by 9",
      "Doubling three times: 2³ = 8, not 6, so doubling three times multiplies by 8"
    ]
  }
];

if (typeof dbExercises !== 'undefined') {
  exercises.forEach(ex => {
    const dbExercise = dbExercises.find(e => e.exercise_number === ex.exercise_number);
    if (dbExercise) {
      ex.id = dbExercise.id;
      ex.completed_at = dbExercise.completed_at;
    }
  });
}
%>

<%- include('../../components/exercise_page', { 
  pageTitle,
  topicName,
  topicId,
  exercises,
  currentPage,
  totalPages
}) %>