<%
const pageTitle = "Laws Practice";
const topicName = "Powers and Exponents";
const topicId = 2;
const exercises = [
  {
    exercise_number: 1,
    type: 'open_question',
    question: 'Simplify: (2³)²',
    inputLabel: 'Enter your answer as a single power of 2:',
    placeholder: 'e.g. 2⁶',
    answer: '2⁶',
    showAnswerButton: true,
    completed_at: null,
    steps: [
      "Use the power rule: (x^m)^n = x^(m×n)",
      "Here, m = 3 and n = 2",
      "So (2³)² = 2^(3×2) = 2⁶"
    ]
  },
  {
    exercise_number: 2,
    type: 'multiple_choice',
    question: 'Simplify: 2⁴ ÷ 2²',
    options: ['2²', '2⁶', '2⁸', '4'],
    answer: 0,
    completed_at: null,
    steps: [
      "Use the quotient rule: x^m ÷ x^n = x^(m-n)",
      "Here, m = 4 and n = 2",
      "So 2⁴ ÷ 2² = 2^(4-2) = 2²"
    ]
  },
  {
    exercise_number: 3,
    type: 'true_false',
    statements: [
      {
        text: '(x²)³ = x⁶',
        answer: true
      },
      {
        text: 'x⁴ ÷ x² = x',
        answer: false
      }
    ],
    completed_at: null,
    steps: [
      "For (x²)³: Use power rule (x^m)^n = x^(m×n), so (x²)³ = x^(2×3) = x⁶",
      "For x⁴ ÷ x²: Use quotient rule x^m ÷ x^n = x^(m-n), so x⁴ ÷ x² = x^(4-2) = x²"
    ]
  }
];

if (typeof dbExercises !== 'undefined') {
  exercises.forEach(ex => {
    const dbExercise = dbExercises.find(e => e.exercise_number === ex.exercise_number);
    if (dbExercise) {
      ex.id = dbExercise.id;
      ex.completed_at = dbExercise.completed_at;
    }
  });
}
%>

<%- include('../../components/exercise_page', { 
  pageTitle,
  topicName,
  topicId,
  exercises,
  currentPage,
  totalPages
}) %>